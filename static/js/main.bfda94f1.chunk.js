(this.webpackJsonpmusic_fitek=this.webpackJsonpmusic_fitek||[]).push([[0],[,,,,,,,,,,,,,function(e,t,n){},function(e,t,n){},,function(e,t,n){},,,,,,,function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){"use strict";n.r(t);var c=n(0),a=n.n(c),i=n(5),s=n.n(i),r=(n(13),n(3)),o=(n(14),n(1)),d=a.a.memo((function(e){var t=e.name,n=e.id,c=e.selectedId,a=e.updateId;return Object(o.jsx)("span",{onClick:function(){return a(n)},className:"nav-link"+(n===c?" active":""),children:t})})),l=(n(16),n(4)),u=function(){return Object(l.b)()},m=l.c,j=n(2),f=Object(j.b)({name:"genres",initialState:{id:"KZFzniwnSyZfZ7v7nJ"},reducers:{updateId:function(e,t){e.id=t.payload}}}),b=f.actions.updateId,h=f.reducer,v=Object(j.b)({name:"searchData",initialState:{data:""},reducers:{updateData:function(e,t){e.data=t.payload}}}),p=v.actions.updateData,O=v.reducer,x=a.a.memo((function(){var e=Object(c.useState)({results:[]}),t=Object(r.a)(e,2),n=t[0],a=t[1],i=m((function(e){return e.genres.id})),s=u();Object(c.useEffect)((function(){fetch("https://app.ticketmaster.com/discovery/v2/classifications/KZFzniwnSyZfZ7v7nJ?apikey=0JIWxBrWrDwCSXZzhD9HKwPngGfGc9fq").then((function(e){return e.json()})).then((function(e){return a({results:e.segment._embedded.genres})})).catch((function(e){return console.log(e)}))}),[]);var l=function(e){s(b(e))};return Object(o.jsxs)("header",{className:"app-header",children:[Object(o.jsxs)("section",{className:"app-title",children:[Object(o.jsx)("h1",{children:"Music events"}),Object(o.jsxs)("div",{className:"search",children:[Object(o.jsx)("span",{className:"fa fa-search"}),Object(o.jsx)("input",{onChange:function(e){s(p(e.currentTarget.value))},type:"search",id:"search",placeholder:"Search for events..."})]})]}),Object(o.jsx)("span",{className:"fill-space"}),Object(o.jsxs)("section",{className:"app-links",children:[Object(o.jsx)(d,{id:"KZFzniwnSyZfZ7v7nJ",name:"All genres",selectedId:i,updateId:l},"all"),n.results.slice(0,3).map((function(e,t){return Object(o.jsx)(d,{id:e.id,name:e.name,selectedId:i,updateId:l},t)})),Object(o.jsx)(d,{id:"",name:"More...",selectedId:i,updateId:l},"more")]})]})})),g=(n(23),n(24),Object(j.b)({name:"details",initialState:{id:""},reducers:{updateDetailsId:function(e,t){e.id=t.payload}}})),_=g.actions.updateDetailsId,w=g.reducer,y=a.a.memo((function(e){var t,n=e.images,i=e.name,s=e.localTime,r=e.city,d=e.country,l=e.place,m=e.localDate,j=a.a.useRef(null);t=function(){var e;return null===(e=j.current)||void 0===e?void 0:e.scrollIntoView()},Object(c.useEffect)(t,[t]);var f=u();return Object(o.jsxs)("div",{ref:j,className:"music-event-details__block","data-testid":"event-box-child",children:[Object(o.jsxs)("div",{className:"music-event-details__info",children:[Object(o.jsx)("h1",{children:i}),Object(o.jsxs)("div",{className:"music-event-details__date",children:[Object(o.jsx)("span",{className:"music-event-details__icon",children:Object(o.jsx)("i",{className:"fa fa-calendar"})}),Object(o.jsx)("span",{children:"".concat(m," @ ").concat(s)})]}),Object(o.jsxs)("div",{className:"music-event-details__venue",children:[Object(o.jsx)("span",{className:"music-event-details__icon",children:Object(o.jsx)("i",{className:"fa fa-building"})}),Object(o.jsx)("span",{children:"".concat(l,", ").concat(r,", ").concat(d)})]}),Object(o.jsx)("div",{className:"music-event-details__text",children:"Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur."}),Object(o.jsx)("button",{className:"music-event-details__btn",onClick:function(){f(_(""))},children:"Close details"})]}),Object(o.jsxs)("div",{className:"music-event-details__img",children:[Object(o.jsx)("div",{className:"overlay-background"}),Object(o.jsx)("img",{src:n,alt:i})]})]})})),N=a.a.memo((function(e){var t=e.id,n=Object(c.useState)({details:{name:"",images:[],dates:{start:{localDate:"",localTime:""}},_embedded:{venues:[]}}}),a=Object(r.a)(n,2),i=a[0],s=a[1],d=Object(c.useState)(!1),l=Object(r.a)(d,2),u=l[0],m=l[1];return Object(c.useEffect)((function(){fetch("https://app.ticketmaster.com/discovery/v2/events/".concat(t,"?apikey=0JIWxBrWrDwCSXZzhD9HKwPngGfGc9fq")).then((function(e){return e.json()})).then((function(e){s({details:e}),m(!0)})).catch((function(e){console.log(e),m(!1)}))}),[t]),Object(o.jsx)(c.Fragment,{children:u&&Object(o.jsx)(y,{country:i.details._embedded.venues[0].country.name,city:i.details._embedded.venues[0].city.name,place:i.details._embedded.venues[0].name,localTime:i.details.dates.start.localTime,name:i.details.name,images:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"This value was promised to be there.";if(void 0===e||null===e)throw new TypeError(t);return e}(i.details.images.find((function(e){return 1152===e.height}))).url,localDate:i.details.dates.start.localDate})})})),I=N,k=a.a.memo((function(e){var t=e.imgUrl,n=e.eventId,a=e.name,i=m((function(e){return e.details.id})),s=u();return Object(c.useEffect)((function(){return function(){s(_(""))}}),[s]),Object(o.jsxs)(c.Fragment,{children:[Object(o.jsxs)("div",{onClick:function(){s(_(n))},className:"music-event-box","data-testid":"event-box",children:[Object(o.jsx)("img",{src:t,alt:a}),i===n&&Object(o.jsx)("div",{className:"triangle"})]}),i===n&&Object(o.jsx)(I,{id:n})]})})),D=(n(25),a.a.memo((function(){var e=Object(c.useState)({results:[]}),t=Object(r.a)(e,2),n=t[0],a=t[1],i=m((function(e){return e.genres.id})),s=m((function(e){return e.searchData.data}));function d(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"This value was promised to be there.";if(void 0===e||null===e)throw new TypeError(t);return e}return Object(c.useEffect)((function(){fetch("https://app.ticketmaster.com/discovery/v2/events?countryCode=FI&classificationId=".concat(i,"&apikey=0JIWxBrWrDwCSXZzhD9HKwPngGfGc9fq")).then((function(e){return e.json()})).then((function(e){return a({results:e._embedded.events})})).catch((function(e){return console.log(e)}))}),[i]),Object(o.jsx)("main",{className:"main-content",children:Object(o.jsx)("section",{className:"music-event__wrapper",children:""!==s?n.results.filter((function(e){return e.name.toLowerCase().includes(s.toLowerCase())})).map((function(e,t){return Object(o.jsx)(k,{imgUrl:d(e.images.find((function(e){return 683===e.height}))).url,eventId:e.id,name:e.name},t)})):n.results.map((function(e,t){return Object(o.jsx)(k,{imgUrl:d(e.images.find((function(e){return 683===e.height}))).url,eventId:e.id,name:e.name},t)}))})})}))),S=D,Z=(n(26),a.a.memo((function(){return Object(o.jsx)("footer",{className:"app-footer",children:"Fitek 2020"})})));n(27);var C=function(){return Object(o.jsxs)("div",{className:"App",children:[Object(o.jsx)(x,{}),Object(o.jsx)(S,{}),Object(o.jsx)(Z,{})]})},T=Object(j.a)({reducer:{genres:h,details:w,searchData:O}});Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));s.a.render(Object(o.jsx)(a.a.StrictMode,{children:Object(o.jsx)(l.a,{store:T,children:Object(o.jsx)(C,{})})}),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}],[[28,1,2]]]);
//# sourceMappingURL=main.bfda94f1.chunk.js.map