(this.webpackJsonpmusic_fitek=this.webpackJsonpmusic_fitek||[]).push([[0],[,,,,,,,,,,,,,,function(e,t,n){},function(e,t,n){},,function(e,t,n){},,,,,,,function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){"use strict";n.r(t);var a=n(0),c=n.n(a),s=n(5),i=n.n(s),r=(n(14),n(3)),o=(n(15),n(1)),d=c.a.memo((function(e){var t=e.name,n=e.id,a=e.selectedId,c=e.updateId;return Object(o.jsx)("span",{onClick:function(){return c(n)},className:"nav-link"+(n===a?" active":""),children:t})})),l=(n(17),n(4)),u=function(){return Object(l.b)()},m=l.c,j=n(2),f=Object(j.b)({name:"genres",initialState:{id:"KZFzniwnSyZfZ7v7nJ"},reducers:{updateId:function(e,t){e.id=t.payload}}}),b=f.actions.updateId,h=f.reducer,v=Object(j.b)({name:"searchData",initialState:{data:""},reducers:{updateData:function(e,t){e.data=t.payload}}}),p=v.actions.updateData,O=v.reducer,x=c.a.memo((function(){var e=Object(a.useState)({results:[]}),t=Object(r.a)(e,2),n=t[0],c=t[1],s=m((function(e){return e.genres.id})),i=u();Object(a.useEffect)((function(){fetch("https://app.ticketmaster.com/discovery/v2/classifications/KZFzniwnSyZfZ7v7nJ?apikey=0JIWxBrWrDwCSXZzhD9HKwPngGfGc9fq").then((function(e){return e.json()})).then((function(e){return c({results:e.segment._embedded.genres})})).catch((function(e){return console.log(e)}))}),[]);var l=function(e){i(b(e))};return Object(o.jsxs)("header",{className:"app-header",children:[Object(o.jsxs)("section",{className:"app-title",children:[Object(o.jsx)("h1",{children:"Music events"}),Object(o.jsxs)("div",{className:"search",children:[Object(o.jsx)("span",{className:"fa fa-search"}),Object(o.jsx)("input",{onChange:function(e){i(p(e.currentTarget.value))},type:"search",id:"search",placeholder:"Search for events..."})]})]}),Object(o.jsx)("span",{className:"fill-space"}),Object(o.jsxs)("section",{className:"app-links",children:[Object(o.jsx)(d,{id:"KZFzniwnSyZfZ7v7nJ",name:"All genres",selectedId:s,updateId:l},"all"),n.results.slice(0,3).map((function(e,t){return Object(o.jsx)(d,{id:e.id,name:e.name,selectedId:s,updateId:l},t)})),Object(o.jsx)(d,{id:"",name:"More...",selectedId:s,updateId:l},"more")]})]})})),g=(n(24),n(25),Object(j.b)({name:"details",initialState:{id:""},reducers:{updateDetailsId:function(e,t){e.id=t.payload}}})),w=g.actions.updateDetailsId,y=g.reducer,_=c.a.memo((function(e){var t,n=e.images,s=e.name,i=e.localTime,r=e.city,d=e.country,l=e.place,m=e.localDate,j=c.a.useRef(null),f=u(),b=String(new Date(m).getDate()).padStart(2,"0"),h=String(new Date(m).getMonth()+1).padStart(2,"0"),v=new Date(m).getFullYear();return t=function(){var e;return null===(e=j.current)||void 0===e?void 0:e.scrollIntoView({behavior:"smooth"})},Object(a.useEffect)(t,[t]),Object(o.jsxs)("div",{ref:j,className:"music-event-details__block","data-testid":"event-box-child",children:[Object(o.jsxs)("div",{className:"music-event-details__info",children:[Object(o.jsx)("h1",{children:s}),Object(o.jsxs)("div",{className:"music-event-details__date",children:[Object(o.jsx)("span",{className:"music-event-details__icon",children:Object(o.jsx)("i",{className:"fa fa-calendar"})}),Object(o.jsx)("span",{children:"".concat(["Monday","Tuesday","Wednesday","Thursday","Friday","Saturday","Sunday"][new Date(m).getDay()],", ").concat(b,".").concat(h,".").concat(v," @ ").concat(i?i.slice(0,5):"")})]}),Object(o.jsxs)("div",{className:"music-event-details__venue",children:[Object(o.jsx)("span",{className:"music-event-details__icon",children:Object(o.jsx)("i",{className:"fa fa-building"})}),Object(o.jsx)("span",{children:"".concat(l,", ").concat(r,", ").concat(d)})]}),Object(o.jsx)("div",{className:"music-event-details__text",children:"Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur."}),Object(o.jsx)("button",{className:"music-event-details__btn",onClick:function(){f(w(""))},children:"Close details"})]}),Object(o.jsxs)("div",{className:"music-event-details__img",children:[Object(o.jsx)("div",{className:"overlay-background"}),Object(o.jsx)("img",{src:n,alt:s})]})]})})),D=c.a.memo((function(e){var t=e.id,n=Object(a.useState)({details:{name:"",images:[],dates:{start:{localDate:"",localTime:""}},_embedded:{venues:[]}}}),c=Object(r.a)(n,2),s=c[0],i=c[1],d=Object(a.useState)(!1),l=Object(r.a)(d,2),u=l[0],m=l[1];return Object(a.useEffect)((function(){fetch("https://app.ticketmaster.com/discovery/v2/events/".concat(t,"?apikey=0JIWxBrWrDwCSXZzhD9HKwPngGfGc9fq")).then((function(e){return e.json()})).then((function(e){i({details:e}),m(!0)})).catch((function(e){console.log(e),m(!1)}))}),[t]),Object(o.jsx)(a.Fragment,{children:u&&Object(o.jsx)(_,{country:s.details._embedded.venues[0].country.name,city:s.details._embedded.venues[0].city.name,place:s.details._embedded.venues[0].name,localTime:s.details.dates.start.localTime,name:s.details.name,images:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"This value was promised to be there.";if(void 0===e||null===e)throw new TypeError(t);return e}(s.details.images.sort((function(e,t){return e.width-t.width})).find((function(e){return e.width>window.innerWidth}))).url,localDate:s.details.dates.start.localDate})})})),N=D,I=c.a.memo((function(e){var t=e.imgUrl,n=e.eventId,c=e.name,s=e.selectedDetailsId,i=u();return Object(o.jsxs)(a.Fragment,{children:[Object(o.jsxs)("div",{onClick:function(){i(w(n))},className:"music-event-box","data-testid":"event-box",children:[Object(o.jsx)("img",{src:t,alt:c}),s===n&&Object(o.jsx)("div",{className:"triangle"})]}),s===n&&Object(o.jsx)(N,{id:n})]})})),S=(n(26),c.a.memo((function(){var e=Object(a.useState)({results:[]}),t=Object(r.a)(e,2),n=t[0],c=t[1],s=Object(a.useState)(!1),i=Object(r.a)(s,2),d=i[0],l=i[1],j=u(),f=m((function(e){return e.genres.id})),b=m((function(e){return e.searchData.data})),h=m((function(e){return e.details.id}));function v(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"This value was promised to be there.";if(void 0===e||null===e)throw new TypeError(t);return e}return Object(a.useEffect)((function(){fetch("https://app.ticketmaster.com/discovery/v2/events?countryCode=FI&classificationId=".concat(f,"&apikey=0JIWxBrWrDwCSXZzhD9HKwPngGfGc9fq")).then((function(e){return e.json()})).then((function(e){0===e.page.totalElements?l(!0):(c({results:e._embedded.events}),l(!1))})).catch((function(e){return console.log(e)})),j(w(""))}),[f,j]),Object(o.jsx)("main",{className:"main-content",children:d?Object(o.jsx)("div",{className:"empty-events",children:"No events found"}):Object(o.jsx)("section",{className:"music-event__wrapper",children:""!==b?n.results.filter((function(e){return e.name.toLowerCase().includes(b.toLowerCase())})).map((function(e,t){return Object(o.jsx)(I,{imgUrl:v(e.images.find((function(e){return 683===e.height}))).url,eventId:e.id,name:e.name,selectedDetailsId:h},t)})):n.results.map((function(e,t){return Object(o.jsx)(I,{imgUrl:v(e.images.find((function(e){return 683===e.height}))).url,eventId:e.id,name:e.name,selectedDetailsId:h},t)}))})})}))),k=S,Z=(n(27),c.a.memo((function(){return Object(o.jsx)("footer",{className:"app-footer",children:"Fitek 2020"})}))),C=(n(28),n(9));n.n(C).a.polyfill();var T=function(){return Object(o.jsxs)("div",{className:"App",children:[Object(o.jsx)(x,{}),Object(o.jsx)(k,{}),Object(o.jsx)(Z,{})]})},W=Object(j.a)({reducer:{genres:h,details:y,searchData:O}});Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));i.a.render(Object(o.jsx)(c.a.StrictMode,{children:Object(o.jsx)(l.a,{store:W,children:Object(o.jsx)(T,{})})}),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}],[[29,1,2]]]);
//# sourceMappingURL=main.d5352786.chunk.js.map